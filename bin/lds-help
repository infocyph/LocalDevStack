#!/usr/bin/env bash
set -euo pipefail

ROOT="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"
# shellcheck disable=SC1090
source "$ROOT/lib/bootstrap.sh"
# shellcheck disable=SC1090
source "$ROOT/lib/io.sh"
# shellcheck disable=SC1090
source "$ROOT/lib/docker.sh"
# shellcheck disable=SC1090
source "$ROOT/lib/docker_exec.sh"
# shellcheck disable=SC1090
source "$ROOT/lib/env.sh"
# shellcheck disable=SC1090
source "$ROOT/lib/help.sh"

if [[ "${1:-}" == "--markdown" ]]; then
  lds_commands_discover | sed 's/^/- /'
  exit 0
fi

echo "Usage: lds <command> [args]"
echo
echo "Commands:"
lds_commands_discover | sed 's/^/  /'
echo
